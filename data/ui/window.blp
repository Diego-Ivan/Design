using Gtk 4.0;
using Adw 1;

menu app-menu {

section{
id: "file-management";

  item{
  label:_("Open");
  action:"win.open";
  }

  item{
  label:_("Save");
  action:"win.save";
  }
}

  section {
    id: "help-section";

    item {
      label: _("Preferences");
      action: "app.preferences";
    }

    item {
      label: _("Keyboard Shortcuts");
      action: "win.shortcuts";
    }

    item {
      label: _("About Design");
      action: "app.about";
    }
  }
}

template DesignWindow : Adw.ApplicationWindow {
  default-height: 600;
  default-width: 800;
  title: 'Design';
  styles ['devel']
  content:
Box{
  orientation: vertical;
  vexpand: true;

  Adw.HeaderBar{
    Button newButton{
    can-focus: false;
    icon-name: 'document-new-symbolic';
    }

    [end]
    MenuButton{
      can-focus: false;
      icon-name: 'open-menu-symbolic';
      menu-model: app-menu;
    }

    [end]
    Button layersButton{
      can-focus: false;
      clicked => show_layers_window();
      icon-name: 'focus-legacy-systray-symbolic';
      }

    [end]
    Button propertiesButton{
      can-focus: false;
      clicked => show_properties_window();
      icon-name: 'dialog-question-symbolic';
      }
  }

Box{
orientation: vertical;

Adw.TabBar tabBar{
view: tabView;
//expand-tabs: false;
}

Adw.TabView tabView{
vexpand: true;
hexpand: true;
}
}

InfoBar{
  Box{
    .CommandLine commandLineEntry{
    hexpand: true;
    can-focus: false;
    }
    Label mousePosLabel{
    halign: end;
    width-request: 150;
    }
  }
}
};
}
